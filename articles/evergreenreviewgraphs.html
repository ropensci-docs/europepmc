<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="europepmc">
<title>Making trend graphs • europepmc</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Making trend graphs">
<meta property="og:description" content="europepmc">
<meta property="og:image" content="https://docs.ropensci.org/europepmc/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">europepmc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/evergreenreviewgraphs.html">Making trend graphs</a>
    <a class="dropdown-item" href="../articles/introducing-europepmc.html">Overview</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/europepmc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Making trend graphs</h1>
                        <h4 data-toc-skip class="author">Najko Jahn</h4>
            
            <h4 data-toc-skip class="date">2023-09-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/europepmc/blob/HEAD/vignettes/evergreenreviewgraphs.Rmd" class="external-link"><code>vignettes/evergreenreviewgraphs.Rmd</code></a></small>
      <div class="d-none name"><code>evergreenreviewgraphs.Rmd</code></div>
    </div>

    
    
<p>Trend graphs in literature reviews show the development of concepts in scholarly communication. Some trend graphs, however, don’t acknowledge that the number of scholarly publications is growing each year, but simply display the absolute number of hits they have found for a given concept. Noam Ross called these misleading graphs evergreen review graphs because of their enduring popularity in review papers.</p>
<p>This vignette guides you how to make proper trend graphs when reviewing Europe PMC literature. In these graphs, the number of hits found is divided by the total number of records indexed in Europe PMC for a given search query.</p>
<div class="section level2">
<h2 id="preparing-proper-review-graphs-with-epmc_hits_trend">Preparing proper review graphs with <code>epmc_hits_trend()</code><a class="anchor" aria-label="anchor" href="#preparing-proper-review-graphs-with-epmc_hits_trend"></a>
</h2>
<p>We use <code><a href="../reference/epmc_hits_trend.html">epmc_hits_trend()</a></code> function, which was firstly introduced in Maëlle Salmon’s blog post about “How not to make an evergreen review graph”<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;&lt;a href="https://masalmon.eu/2017/05/14/evergreenreviewgraph/" class="external-link uri"&gt;https://masalmon.eu/2017/05/14/evergreenreviewgraph/&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a>. The function takes a query in the Europe PMC search syntax<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Europe PMC Search Syntax: &lt;a href="https://europepmc.org/Help#mostofsearch" class="external-link uri"&gt;https://europepmc.org/Help#mostofsearch&lt;/a&gt;&lt;/p&gt;'><sup>2</sup></a> and the period of years over which to perform the search as arguments, and returns a data-frame with year, total number of hits (<code>all_hits</code>) and number of hits for the query (<code>query_hits</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/europepmc/">europepmc</a></span><span class="op">)</span></span>
<span><span class="fu">europepmc</span><span class="fu">::</span><span class="fu"><a href="../reference/epmc_hits_trend.html">epmc_hits_trend</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"aspirin"</span>, period <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2022</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 13 × 3</span></span>
<span><span class="co">#&gt;     year all_hits query_hits</span></span>
<span><span class="co">#&gt;    &lt;int&gt;    &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  2010   851106       5513</span></span>
<span><span class="co">#&gt;  2  2011   904847       6009</span></span>
<span><span class="co">#&gt;  3  2012   946206       6840</span></span>
<span><span class="co">#&gt;  4  2013  1004432       7658</span></span>
<span><span class="co">#&gt;  5  2014  1055201       8226</span></span>
<span><span class="co">#&gt;  6  2015  1096429       8789</span></span>
<span><span class="co">#&gt;  7  2016  1117164       8965</span></span>
<span><span class="co">#&gt;  8  2017  1138419       9411</span></span>
<span><span class="co">#&gt;  9  2018  1180115      10116</span></span>
<span><span class="co">#&gt; 10  2019  1243574      10675</span></span>
<span><span class="co">#&gt; 11  2020  1450562      14358</span></span>
<span><span class="co">#&gt; 12  2021  1550459      16755</span></span>
<span><span class="co">#&gt; 13  2022  1542959      16214</span></span></code></pre></div>
<p>By default, synonym search is disabled and only Medline/PubMed index is searched.</p>
</div>
<div class="section level2">
<h2 id="use-cases">Use Cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h2>
<div class="section level3">
<h3 id="use-case-growth-of-open-access-literature">Use Case: Growth of Open Access Literature<a class="anchor" aria-label="anchor" href="#use-case-growth-of-open-access-literature"></a>
</h3>
<p>There is a growing interest in knowing the proportion of open access to scholarly literature. Europe PMC allows searching for open access content with the <a href="https://europepmc.org/search?query=OPEN_ACCESS:Y&amp;page=1&amp;sortby=Relevance" class="external-link"><code>OPEN_ACCESS:Y</code> parameter</a>. At the moment, Europe PMC contains 5,641,836 open access full-texts. Let’s see how they are relatively distributed over the period 2010 - 2022.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tt_oa</span> <span class="op">&lt;-</span> <span class="fu">europepmc</span><span class="fu">::</span><span class="fu"><a href="../reference/epmc_hits_trend.html">epmc_hits_trend</a></span><span class="op">(</span><span class="st">"OPEN_ACCESS:Y"</span>, period <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2022</span>, synonym <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">tt_oa</span></span>
<span><span class="co">#&gt; # A tibble: 13 × 3</span></span>
<span><span class="co">#&gt;     year all_hits query_hits</span></span>
<span><span class="co">#&gt;    &lt;int&gt;    &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  2010   851106      78743</span></span>
<span><span class="co">#&gt;  2  2011   904847     105737</span></span>
<span><span class="co">#&gt;  3  2012   946206     140082</span></span>
<span><span class="co">#&gt;  4  2013  1004432     176617</span></span>
<span><span class="co">#&gt;  5  2014  1055201     212221</span></span>
<span><span class="co">#&gt;  6  2015  1096429     244342</span></span>
<span><span class="co">#&gt;  7  2016  1117164     273575</span></span>
<span><span class="co">#&gt;  8  2017  1138419     312877</span></span>
<span><span class="co">#&gt;  9  2018  1180115     352369</span></span>
<span><span class="co">#&gt; 10  2019  1243574     406182</span></span>
<span><span class="co">#&gt; 11  2020  1450562     585074</span></span>
<span><span class="co">#&gt; 12  2021  1550459     714651</span></span>
<span><span class="co">#&gt; 13  2022  1542959     794387</span></span>
<span><span class="co"># we use ggplot2 for plotting the graph</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tt_oa</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, <span class="va">query_hits</span> <span class="op">/</span> <span class="va">all_hits</span>, group <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Year published"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Proportion of OA full-texts in Europe PMC"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="oa_pmc-1.png" alt="oa in europe pmc"><p class="caption">
plot of chunk oa_pmc
</p>
</div>
<p>Be careful with the interpretation of the slower growth in the last years because there are several ways how open access content is added to Europe PMC including the digitalization of back issues.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;See section “Content Growth” in: McEntyre JR, Ananiadou S, Andrews S, et al. UKPMC: a full text article resource for the life sciences. &lt;em&gt;Nucleic Acids Research&lt;/em&gt;. 2011;39(Database):D58–D65. &lt;a href="https://doi.org/10.1093/nar/gkq1063" class="external-link uri"&gt;https://doi.org/10.1093/nar/gkq1063&lt;/a&gt;.&lt;/p&gt;'><sup>3</sup></a></p>
</div>
<div class="section level3">
<h3 id="use-case-cited-open-source-software-in-scholarly-publications">Use Case: Cited open source software in scholarly publications<a class="anchor" aria-label="anchor" href="#use-case-cited-open-source-software-in-scholarly-publications"></a>
</h3>
<p>Another nice use case for trend graphs is to study how code and software repositories are cited in scientific literature. In recent years, it has become a good practice not only to re-use openly available software, but also to cite them. The FORCE11 Software Citation Working Group states:</p>
<blockquote>
<p>In general, we believe that software should be cited on the same basis as any other research product such as a paper or book; that is, authors should cite the appropriate set of software products just as they cite the appropriate set of papers. <a href="https://doi.org/10.7717/peerj-cs.86" class="external-link">(doi:10.7717/peerj-cs.86)</a></p>
</blockquote>
<p>So let’s see whether we can find evidence for this evolving practice by creating a proper review graph. As a start, we examine these four general purpose hosting services for version-controlled code:</p>
<ul>
<li><a href="https://code.google.com/" class="external-link">code.google.com</a></li>
<li><a href="https://github.com/" class="external-link">github.com</a></li>
<li><a href="https://sourceforge.net/" class="external-link">sourceforge.net</a></li>
<li><a href="https://bitbucket.org/" class="external-link">bitbucket.org</a></li>
</ul>
<p>and, of course, <a href="https://cran.r-project.org/" class="external-link">CRAN</a>, the R archive network.</p>
<div class="section level4">
<h4 id="how-to-query-europe-pmc">How to query Europe PMC?<a class="anchor" aria-label="anchor" href="#how-to-query-europe-pmc"></a>
</h4>
<p>We only want to search reference lists. Because Europe PMC does not index references for its complete collection, we use <code>has_reflist:y</code> to restrict our search to those publications with reference lists. These literature sections can be searched with the <code>REF:</code> parameter.</p>
<p>Let’s prepare the queries for links to the above mentioned code hosting services:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dvcs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"code.google.com"</span>, <span class="st">"github.com"</span>,</span>
<span>          <span class="st">"sourceforge.net"</span>, <span class="st">"bitbucket.org"</span>, <span class="st">"cran.r-project.org"</span><span class="op">)</span></span>
<span><span class="co"># make queries including reference section</span></span>
<span><span class="va">dvcs_query</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'REF:"'</span>, <span class="va">dvcs</span>, <span class="st">'"'</span><span class="op">)</span></span></code></pre></div>
<p>and get publications for which Europe PMC gives access to reference lists for normalizing the review graph.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">my_df</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_df</a></span><span class="op">(</span><span class="va">dvcs_query</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># get number of publications with indexed reference lists</span></span>
<span>  <span class="va">refs_hits</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu">europepmc</span><span class="fu">::</span><span class="fu"><a href="../reference/epmc_hits_trend.html">epmc_hits_trend</a></span><span class="op">(</span><span class="st">"has_reflist:y"</span>, period <span class="op">=</span> <span class="fl">2009</span><span class="op">:</span><span class="fl">2022</span>, synonym <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">query_hits</span></span>
<span>  <span class="co"># get hit count querying for code repositories</span></span>
<span>  <span class="fu">europepmc</span><span class="fu">::</span><span class="fu"><a href="../reference/epmc_hits_trend.html">epmc_hits_trend</a></span><span class="op">(</span><span class="va">x</span>, period <span class="op">=</span> <span class="fl">2009</span><span class="op">:</span><span class="fl">2022</span>, synonym <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>query_id <span class="op">=</span> <span class="va">x</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>refs_hits <span class="op">=</span> <span class="va">refs_hits</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">all_hits</span>, <span class="va">refs_hits</span>, <span class="va">query_hits</span>, <span class="va">query_id</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="va">my_df</span></span>
<span><span class="co">#&gt; # A tibble: 70 × 5</span></span>
<span><span class="co">#&gt;     year all_hits refs_hits query_hits query_id                 </span></span>
<span><span class="co">#&gt;    &lt;int&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;                    </span></span>
<span><span class="co">#&gt;  1  2009   793210    556002         13 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  2  2010   851106    541447         40 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  3  2011   904847    604315         65 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  4  2012   946206    636843         92 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  5  2013  1004432    763720        135 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  6  2014  1055201    797730        140 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  7  2015  1096429    780777        117 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  8  2016  1117164    784272         65 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt;  9  2017  1138419    819735         52 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt; 10  2018  1180115    757852         29 "REF:\"code.google.com\""</span></span>
<span><span class="co">#&gt; # ℹ 60 more rows</span></span>
<span></span>
<span><span class="co">### total</span></span>
<span><span class="va">hits_summary</span> <span class="op">&lt;-</span> <span class="va">my_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">query_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>all <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">query_hits</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">all</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">hits_summary</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span><span class="co">#&gt;   query_id                       all</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                        &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 "REF:\"cran.r-project.org\"" 44864</span></span>
<span><span class="co">#&gt; 2 "REF:\"github.com\""         29009</span></span>
<span><span class="co">#&gt; 3 "REF:\"sourceforge.net\""     1779</span></span>
<span><span class="co">#&gt; 4 "REF:\"code.google.com\""      897</span></span>
<span><span class="co">#&gt; 5 "REF:\"bitbucket.org\""        442</span></span></code></pre></div>
<p>The proportion of papers where Europe PMC was able to make the cited literature available was 64 for the period 2009-2022. There also seems to be a time-lag between indexing reference lists because the absolute number of publication was decreasing over the years. This is presumably because Europe PMC also includes delayed open access content, i.e. content which is not added immediately with the original publication.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Ebd.&lt;/p&gt;"><sup>4</sup></a></p>
<p>Now, let’s make a proper review graph normalizing our query results with the number of publications with indexed references.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">my_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, <span class="va">query_hits</span> <span class="op">/</span> <span class="va">refs_hits</span>, group <span class="op">=</span> <span class="va">query_id</span>,</span>
<span>                  color <span class="op">=</span> <span class="va">query_id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Query"</span>, palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Year published"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Proportion of articles in Europe PMC"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="software_lit-1.png" alt="literature links to software in europe pmc"><p class="caption">
plot of chunk software_lit
</p>
</div>
</div>
<div class="section level4">
<h4 id="discussion-and-conclusion">Discussion and Conclusion<a class="anchor" aria-label="anchor" href="#discussion-and-conclusion"></a>
</h4>
<p>Although this figure illustrates the relative popularity of citing code hosted by CRAN and GitHub in recent years, there are some limits that needs to be discussed. As said before, Europe PMC does not extract reference lists from every indexed publication. It furthermore remains open whether and to what extent software is cited outside the reference section, i.e. as footnote or in the acknowledgements.</p>
<p>Another problem of our query approach is that we did not consider that DOIs can also be used to cite software, a best-practice implemented by <a href="https://docs.github.com/repositories/archiving-a-github-repository/referencing-and-citing-content" class="external-link">Zenodo and GitHub</a> or the <a href="https://joss.theoj.org/" class="external-link">The Journal of Open Source Software</a>.</p>
<p>Lastly, it actually remains unclear, which and what kind of software is cited how often. We could also not control if authors just cited the homepages and not a particular source code repository. One paper can also cite more than one code repository, which is also not represented in the trend graph.</p>
<p>To conclude, a proper trend graph on the extent of software citation can only be the start for a more sophisticated approach that mines links to software repositories from scientific literature and fetches metadata about these code repositories from the hosting facilities.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>This vignette presented first steps on how to make trend graphs with <code>europepmc</code>. As our use-cases suggest, please carefully consider how you queried Europe PMC in the interpretation of your graph. Although trend graphs are a nice way to illustrate the development of certain concepts in scientific literature or recent trends in scholarly communication, they must be put in context in order to become meaningful.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>Big thanks to Maëlle Salmon for getting me started to write this vignette.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
